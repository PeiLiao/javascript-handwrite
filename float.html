<html>

<head>
  <script>
    function toBinary(number, fix) {
      // step1: symbol
      var s = '0'
      if (number < 0) {
        number = 0 - number;
        s = '1'
      }

      // step2: exponent
      var r = 0, num = number;
      if (num > 1) {
        while (num > 1) {
          num /= 2;
          r++
        }
      } else {
        while (num < 1) {
          num *= 2
          r--
        }
      }

      var e = '';
      r += 1023
      e = r.toString(2).padStart(11, '0')

      // decimals
      // fix 
      num = fix ? parseFloat((num % 1).toPrecision(10)) : num % 1
      var total = 52;
      var base = '';
      while (num !== 0 && total--) {
        base += num * 2 >= 1 ? 1 : 0
        num = (num * 2) % 1
      }

      // carry bit
      if (total < 0 && num * 2 >= 1) {
        base = (parseInt(base, 2) + 1).toString(2)
        base = base.padStart(52, '0')
      } else {
        base = base.padEnd(52, '0')
      }

      return s + e + base
    }
    function start() {
      initBit('symbol', 1)
      initBit('exponent', 11)
      initBit('base', 52)
    }

    function initBit(part, num) {
      var container = document.getElementById(part + 'bit');
      for (var i = 0; i < num; i++) {
        container.appendChild(document.createElement(span, { id: part + i }))
      }
    }

    // TODO

  </script>
</head>

<body>
  <div class="convertTo">
    <div class="">
      <input type="number" />
      <button onclick="start();">convert to binary</button>
      <span class="float"></span>
    </div>
    <div class="format">

    </div>
    <div class="result">
      <div id="symbol">
        <p></p>
        <p id="symbolbit"></p>
      </div>
      <div id="exponent">
        <p></p>
        <p id="exponentbit"></p>
      </div>
      <div id='default' style="border: pot 1px black;">1</div>
      <div id="base">
        <p></p>
        <p id="basebit"></p>
      </div>
    </div>
  </div>
  <br />
  <div class="operator">
    <p><input type="text" /></p>
    <p><input type="text" /></p>
    <button>start +</button>
  </div>
  <br />
  <div class="convertFrom">
    <input type="text" name="" />
    <button>convert from binary</button>
  </div>
  <script>


  </script>
  <style>

  </style>
</body>

</html>